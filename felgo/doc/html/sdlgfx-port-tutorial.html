<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- sdlgfx-port.qdoc -->
  <title>Tutorial: How I ported a C++/SDL_gfx based application to Felgo | felgo-neurocid</title>
</head>
<body>
<div class="sidebar">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#known-issues">Known Issues</a></li>
</ul>
</div>
<div class="sidebar-content" id="sidebar-content"></div></div>
<h1 class="title">Tutorial: How I ported a C++/SDL_gfx based application to Felgo</h1>
<span class="subtitle"></span>
<!-- $$$sdlgfx-port-tutorial.html-description -->
<div class="descr"> <a name="details"></a>
<p class="centerAlign"><img src="images/screen.gif" alt="&quot;Felgo-Neurocid&quot;" /></p><p>There are several ways to port C++/SDL_gfx based applications to Felgo. The most canonical way would be to provide a model with all the game data needed for rendering and passing it to Felgo app to do the heavy lifting as described here: <a href="https://felgo.com/doc/apps-howto-model-view-separation/">Model-view-separation-tutorial</a>. But in case you want a quick result, your rendering just works fine the way it is, and you don't need any of the advantages of using Felgo for rendering: This is the tutorial to read. The approach is pretty simple: Create a SDL_gfx drop-in replacement that behind the scenes uses an extended QML <code>Canvas</code> element to do the actual drawing (do be more exact: <a href="https://en.wikipedia.org/wiki/Rasterisation">rasterisation</a>). We are going to use a real-world example to demonstrate the approach: Neurocid - a space battle simulation driven by <a href="https://en.wikipedia.org/wiki/Genetic_algorithm">a genetic algorithm</a> and <a href="https://en.wikipedia.org/wiki/Artificial_neural_network">artifical neural networks</a>. The code for this tutorial resides in two <a href="https://en.wikipedia.org/wiki/Git">git-branches</a> of the Neurocid github project:</p>
<ul>
<li><a href="https://github.com/kallaballa/Neurocid/tree/master">Neurocid master</a> - The code before the port</li>
<li><a href="https://github.com/kallaballa/Neurocid/tree/felgo">Neurocid felgo</a> - The code after the port</li>
</ul>
<p>If you want all the changes at a glance you can <a href="https://github.com/kallaballa/Neurocid/compare/master...felgo">compare</a> those branches but please be aware that not all of them are strictly necessary to achieve the goal of this tutorial.</p>
<a name="known-issues"></a>
<h2 id="known-issues">Known Issues</h2>
<ul>
<li>Running Felgo applications on Wayland doesn't seem to work (it hangs).</li>
<li>Somehow I wasn't able to get qdoc to output documentation for C++.</li>
</ul>
<p>Tutorial chapters:</p>
<ul>
<li><a href="comments-on-challenge.html">Chapter 0: Comments on how I approached the challenge in general</a></li>
<li><a href="build-neurocid-debian.html">Chapter 1: Building Neurocid for Debian Linux 10</a></li>
<li><a href="run-neurocid.html">Chapter 2: The Game</a></li>
<li><a href="write-qml-canvas.html">Chapter 3: Write a QML Canvas object that mimics a SDL_gfx-like API</a></li>
<li><a href="write-a-cpp-to-qml-bridge.html">Chapter 4: Write a C++ to QML Canvas bridge</a></li>
<li><a href="howto-use-replacement.html">Chapter 5: How to use the SDL_gfx-like drop-in replacement</a></li>
<li><a href="appendix-challenge.html">Appendix: Issues with the Challenge and Felgo</a></li>
</ul>
<p>Please have a look at training.sh to learn how to set up the environment and run felgo-neurocid</p>
</div>
<!-- @@@sdlgfx-port-tutorial.html -->
</body>
</html>
